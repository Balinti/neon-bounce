<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Neon Bounce - Free HTML5 Game</title>
<meta name="description" content="Play Neon Bounce - Tap to bounce a glowing ball between neon platforms. Miss a platform and fall into the void. Platforms get narrower as score increases.">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#0a0a1a">
<meta property="og:type" content="website">
<meta property="og:title" content="Neon Bounce - Free HTML5 Game">
<meta property="og:description" content="Tap to bounce a glowing ball between neon platforms. Miss a platform and fall into the void!">
<meta property="og:url" content="https://balinti.github.io/neon-bounce/">
<meta property="og:image" content="https://balinti.github.io/neon-bounce/og.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Neon Bounce - Free HTML5 Game">
<meta name="twitter:description" content="Tap to bounce a glowing ball between neon platforms. Miss a platform and fall into the void!">
<meta name="twitter:image" content="https://balinti.github.io/neon-bounce/og.png">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4099346100621490" crossorigin="anonymous"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow-x:hidden;background:#0a0a1a;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;touch-action:none;-webkit-tap-highlight-color:transparent;user-select:none;-webkit-user-select:none}
#game-container{position:relative;width:100%;max-width:420px;height:100vh;height:100dvh;max-height:750px;margin:0 auto;overflow:hidden}
canvas{display:block;width:100%;height:100%;cursor:pointer}
#overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;z-index:2}
#overlay.hidden{display:none}
.ov-title{font-size:2.4em;font-weight:800;letter-spacing:3px;text-shadow:0 0 25px currentColor,0 0 50px currentColor}
.ov-sub{font-size:1em;opacity:.75;margin-top:8px}
.ov-tap{font-size:.95em;opacity:.5;margin-top:22px;animation:pulse 1.8s ease-in-out infinite}
.ov-score{font-size:2.8em;font-weight:800;margin-top:12px}
.ov-best{font-size:.95em;opacity:.55;margin-top:4px}
.ov-reason{font-size:.82em;opacity:.6;margin-top:10px;font-style:italic}
@keyframes pulse{0%,100%{opacity:.35}50%{opacity:.85}}
#seo-section{max-width:420px;margin:10px auto;padding:12px 16px;color:#7778a0;font-family:sans-serif;font-size:13px;line-height:1.6}
#seo-section h2{font-size:15px;color:#9999bb;margin-bottom:6px}
</style>
</head>
<body>
<div id="game-container">
<canvas id="gc"></canvas>
<div id="overlay">
<div class="ov-title" style="color:#0ff">Neon Bounce</div>
<div class="ov-sub" style="color:#eee">Flip colors. Match platforms. Climb!</div>
<div class="ov-tap" style="color:#fff">Tap to Start</div>
</div>
</div>
<section id="seo-section">
<h2>How to Play Neon Bounce</h2>
<p>Tap or press Space to flip your ball between <strong>cyan</strong> and <strong>pink</strong>. Land only on platforms that match your current color. Perfect landings near the center build your combo and charge a protective Neon Shield. As you climb higher, platforms get narrower and start moving. How high can you go?</p>
</section>
<script>
'use strict';
(()=>{

/* ══════════ CANVAS + DPR ══════════ */
const canvas=document.getElementById('gc');
const ctx=canvas.getContext('2d');
const overlay=document.getElementById('overlay');
const container=document.getElementById('game-container');

let W,H,dpr;
function resize(){
  const rect=container.getBoundingClientRect();
  dpr=Math.min(window.devicePixelRatio||1,3);
  W=rect.width; H=rect.height;
  canvas.width=Math.round(W*dpr);
  canvas.height=Math.round(H*dpr);
  canvas.style.width=W+'px';
  canvas.style.height=H+'px';
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener('resize',resize);
resize();

/* ══════════ CONSTANTS ══════════ */
const CYAN='#00e5ff';
const PINK='#ff5c93';
const CYAN_H=187, PINK_H=342;
const BALL_R=13;
const GRAVITY=0.42;
const BOUNCE_VEL=-11.2;
const PLAT_H=11;
const BASE_W=95;
const MIN_W=38;
const PLAT_GAP=90;
const GENERATE_AHEAD=10;
const SHIELD_MAX=5;
const LS_KEY='neonBounceHighScore';

/* ══════════ STATE ══════════ */
let state='start';
let score,bestScore,combo,shieldCharge,hasShield;
let ball,camera,platforms,particles;
let shakeTimer,shakeMag,shakeX,shakeY;
let slowMoTimer,slowMoFactor;
let bgHue,frameCount;
let deathReason;
let nextPlatY,platId;
let goFadeIn;

function loadBest(){try{bestScore=parseInt(localStorage.getItem(LS_KEY))||0}catch(e){bestScore=0}}
function saveBest(){try{localStorage.setItem(LS_KEY,String(bestScore))}catch(e){}}
loadBest();

/* ══════════ HELPERS ══════════ */
const rand=(a,b)=>a+Math.random()*(b-a);
const clamp=(v,lo,hi)=>v<lo?lo:v>hi?hi:v;

/* ══════════ PARTICLES ══════════ */
function spawnBurst(x,y,col,count,speed,life){
  for(let i=0;i<count;i++){
    const a=Math.random()*Math.PI*2;
    const sp=speed*(0.3+Math.random()*0.7);
    particles.push({x,y,vx:Math.cos(a)*sp,vy:Math.sin(a)*sp-1.5,
      life:life||35,maxLife:life||35,color:col,size:2+Math.random()*3.5,ring:false,ringR:0});
  }
}
function spawnRing(x,y,col){
  particles.push({x,y,vx:0,vy:0,life:22,maxLife:22,color:col,size:0,ring:true,ringR:4});
}

/* ══════════ PLATFORM GENERATION ══════════ */
function diff(){return Math.min((score||0),100)/100} // 0..1

function makePlat(y,forceColor){
  const d=diff();
  const w=BASE_W-(BASE_W-MIN_W)*d*0.75+rand(-8,8);
  const cw=clamp(w,MIN_W,BASE_W+10);
  const margin=cw/2+8;
  const x=margin+Math.random()*(W-2*margin);
  const color=forceColor!==undefined?forceColor:(Math.random()<0.5?0:1);
  const moving=d>0.25&&Math.random()<d*0.45;
  const speed=moving?(0.8+d*1.8)*(Math.random()<0.5?1:-1):0;
  const moveRange=moving?(20+d*35):0;
  return{id:platId++,x,y,w:cw,color,baseX:x,
    moving,speed,moveRange,movePhase:Math.random()*Math.PI*2,
    landed:false,pulse:0};
}

function generatePlats(){
  while(nextPlatY>camera-H){
    const lastCol=platforms.length>0?platforms[platforms.length-1].color:-1;
    let col;
    // Early game: more alternating. Later: more random
    if(diff()<0.3){
      col=lastCol<0?0:(1-lastCol);
    } else {
      col=Math.random()<0.45?lastCol:1-Math.max(0,lastCol);
    }
    platforms.push(makePlat(nextPlatY,col));
    nextPlatY-=PLAT_GAP+rand(-12,12);
  }
}

function despawnPlats(){
  platforms=platforms.filter(p=>p.y<camera+H+120);
}

/* ══════════ INIT ══════════ */
function init(){
  score=0;combo=0;shieldCharge=0;hasShield=false;
  deathReason='';shakeTimer=0;shakeMag=0;shakeX=0;shakeY=0;
  slowMoTimer=0;slowMoFactor=1;
  bgHue=195;frameCount=0;goFadeIn=0;
  ball={x:W/2,y:H*0.6,vx:0,vy:0,color:0,r:BALL_R};
  camera=0;
  platforms=[];particles=[];
  platId=0;
  // Starting platform
  const startP=makePlat(ball.y+50,0);
  startP.x=W/2;startP.baseX=W/2;startP.w=BASE_W*1.3;startP.moving=false;
  platforms.push(startP);
  nextPlatY=startP.y-PLAT_GAP;
  generatePlats();
  ball.vy=BOUNCE_VEL;
}

/* ══════════ FLIP COLOR ══════════ */
function flipColor(){
  if(state!=='playing')return;
  ball.color=1-ball.color;
  spawnBurst(ball.x,ball.y,ball.color===0?CYAN:PINK,6,2.5,14);
}

/* ══════════ INPUT ══════════ */
function handleInput(e){
  if(e&&e.preventDefault)e.preventDefault();
  if(state==='start'){
    state='playing';init();
    overlay.classList.add('hidden');
    return;
  }
  if(state==='gameover'){
    state='playing';init();
    overlay.classList.add('hidden');
    return;
  }
  if(state==='playing') flipColor();
}
canvas.addEventListener('pointerdown',handleInput);
document.addEventListener('keydown',e=>{
  if(e.code==='Space'||e.code==='Enter'){e.preventDefault();handleInput(null)}
});

/* ══════════ GAME OVER ══════════ */
function triggerGameOver(reason){
  state='gameover';deathReason=reason;
  shakeMag=7;shakeTimer=18;
  spawnBurst(ball.x,ball.y,'#ff3355',25,5,30);
  if(score>bestScore){bestScore=score;saveBest()}
  goFadeIn=0;
  setTimeout(showGameOver,350);
}
function showGameOver(){
  const isNew=score>=bestScore&&score>0;
  overlay.classList.remove('hidden');
  overlay.innerHTML=
    `<div class="ov-title" style="color:#ff4466">Game Over</div>`+
    `<div class="ov-score" style="color:#fff">${score}</div>`+
    (isNew?`<div class="ov-best" style="color:#ffcc44;opacity:.9">New Best!</div>`
           :`<div class="ov-best" style="color:#aaa">Best: ${bestScore}</div>`)+
    `<div class="ov-reason" style="color:#ff8899">${deathReason}</div>`+
    `<div class="ov-tap" style="color:#fff">Tap to Retry</div>`;
}

/* ══════════ UPDATE ══════════ */
function update(dt){
  if(state!=='playing')return;
  frameCount++;

  // Slow-mo
  let tScale=1;
  if(slowMoTimer>0){
    tScale=slowMoFactor;
    slowMoTimer-=dt;
    if(slowMoTimer<=0){slowMoTimer=0;slowMoFactor=1}
  }
  const adt=dt*tScale;

  // Physics
  ball.vy+=GRAVITY*adt;
  ball.x+=ball.vx*adt;
  ball.y+=ball.vy*adt;

  // Walls
  if(ball.x<ball.r){ball.x=ball.r;ball.vx=Math.abs(ball.vx)*0.3}
  if(ball.x>W-ball.r){ball.x=W-ball.r;ball.vx=-Math.abs(ball.vx)*0.3}

  // Moving platforms
  for(const p of platforms){
    if(p.moving){
      p.movePhase+=p.speed*0.018*adt;
      p.x=p.baseX+Math.sin(p.movePhase)*p.moveRange;
      p.x=clamp(p.x,p.w/2+4,W-p.w/2-4);
    }
    if(p.pulse>0)p.pulse-=adt*0.06;
  }

  // Collision
  if(ball.vy>0){
    for(const p of platforms){
      if(p.landed)continue;
      const prevY=ball.y-ball.vy*adt;
      if(prevY+ball.r<=p.y+3 && ball.y+ball.r>=p.y){
        if(ball.x>p.x-p.w/2-2 && ball.x<p.x+p.w/2+2){
          // Landed!
          if(ball.color===p.color){
            // Correct color
            ball.y=p.y-ball.r;
            ball.vy=BOUNCE_VEL;
            ball.vx=(p.x-ball.x)*0.015+(Math.random()-0.5)*0.4;
            p.landed=true;
            p.pulse=1;
            score++;
            const col=p.color===0?CYAN:PINK;
            // Perfect check
            const distC=Math.abs(ball.x-p.x);
            const perfect=distC<p.w*0.18;
            if(perfect){
              combo++;
              if(!hasShield){
                shieldCharge=Math.min(shieldCharge+1,SHIELD_MAX);
                if(shieldCharge>=SHIELD_MAX)hasShield=true;
              }
              spawnRing(ball.x,p.y,col);
              spawnBurst(ball.x,p.y,col,18,4.5,28);
              shakeMag=Math.max(shakeMag,3);shakeTimer=Math.max(shakeTimer,8);
            } else {
              combo=0;
              spawnBurst(ball.x,p.y,col,9,3,22);
              shakeMag=Math.max(shakeMag,1.2);shakeTimer=Math.max(shakeTimer,4);
            }
            if(score>bestScore){bestScore=score;saveBest()}
          } else {
            // Wrong color
            if(hasShield){
              // Shield save!
              hasShield=false;shieldCharge=0;combo=0;
              ball.color=p.color;
              ball.y=p.y-ball.r;
              ball.vy=BOUNCE_VEL;
              ball.vx=0;
              p.landed=true;p.pulse=1;
              score++;
              slowMoTimer=28;slowMoFactor=0.28;
              shakeMag=8;shakeTimer=22;
              spawnBurst(ball.x,p.y,'#ffffff',30,6,32);
              spawnBurst(ball.x,ball.y,ball.color===0?CYAN:PINK,18,3.5,24);
              if(score>bestScore){bestScore=score;saveBest()}
            } else {
              triggerGameOver('Wrong color');return;
            }
          }
          break;
        }
      }
    }
  }

  // Camera
  const targetCam=ball.y-H*0.55;
  if(targetCam<camera) camera+=(targetCam-camera)*0.1;

  generatePlats();
  despawnPlats();

  // Fall death
  if(ball.y>camera+H+80){
    triggerGameOver('Missed platform');return;
  }

  // BG hue shift
  const targetHue=ball.color===0?CYAN_H:PINK_H;
  const hDiff=targetHue-bgHue;
  // Handle wrap-around
  if(Math.abs(hDiff)>180){
    bgHue+=hDiff>0?-0.8:0.8;
  } else {
    bgHue+=hDiff*0.03;
  }
  bgHue=((bgHue%360)+360)%360;

  // Particles
  for(let i=particles.length-1;i>=0;i--){
    const p=particles[i];
    p.x+=p.vx*adt;p.y+=p.vy*adt;
    p.vy+=0.12*adt;
    p.life-=adt;
    if(p.ring)p.ringR+=2.2*adt;
    if(p.life<=0)particles.splice(i,1);
  }

  // Shake
  if(shakeTimer>0){
    shakeTimer-=adt;
    const intensity=shakeMag*(shakeTimer/18);
    shakeX=(Math.random()-0.5)*intensity*2;
    shakeY=(Math.random()-0.5)*intensity*2;
  } else {
    shakeX=0;shakeY=0;shakeMag=0;
  }
}

/* ══════════ DRAW ══════════ */
function draw(){
  ctx.save();
  ctx.setTransform(dpr,0,0,dpr,0,0);

  // Shake
  ctx.translate(shakeX,shakeY);

  // Background
  const h1=bgHue;
  const grad=ctx.createLinearGradient(0,0,0,H);
  grad.addColorStop(0,`hsl(${h1},18%,5%)`);
  grad.addColorStop(1,`hsl(${(h1+25)%360},22%,9%)`);
  ctx.fillStyle=grad;
  ctx.fillRect(-20,-20,W+40,H+40);

  // Slow-mo vignette
  if(slowMoTimer>0){
    const vg=ctx.createRadialGradient(W/2,H/2,H*0.25,W/2,H/2,H*0.65);
    vg.addColorStop(0,'rgba(0,0,0,0)');
    vg.addColorStop(1,`rgba(0,0,0,${0.45*Math.min(slowMoTimer/15,1)})`);
    ctx.fillStyle=vg;
    ctx.fillRect(0,0,W,H);
  }

  if(state==='start'){ctx.restore();return}

  const camY=-camera;

  // Platforms
  for(const p of platforms){
    const py=p.y+camY;
    if(py<-30||py>H+30)continue;
    const col=p.color===0?CYAN:PINK;
    const hue=p.color===0?CYAN_H:PINK_H;
    const alpha=p.landed?0.3:1;
    const rx=p.x-p.w/2;

    ctx.globalAlpha=alpha;

    // Platform glow (restrained)
    ctx.shadowColor=col;
    ctx.shadowBlur=p.pulse>0?12+p.pulse*8:7;

    // Rounded rect
    const cr=PLAT_H/2;
    ctx.beginPath();
    ctx.moveTo(rx+cr,py);
    ctx.lineTo(rx+p.w-cr,py);
    ctx.arcTo(rx+p.w,py,rx+p.w,py+cr,cr);
    ctx.arcTo(rx+p.w,py+PLAT_H,rx+p.w-cr,py+PLAT_H,cr);
    ctx.lineTo(rx+cr,py+PLAT_H);
    ctx.arcTo(rx,py+PLAT_H,rx,py+cr,cr);
    ctx.arcTo(rx,py,rx+cr,py,cr);
    ctx.closePath();
    ctx.fillStyle=col;
    ctx.fill();
    ctx.shadowBlur=0;

    // Top highlight
    ctx.fillStyle=`hsla(${hue},100%,85%,${0.4*alpha})`;
    ctx.fillRect(rx+cr,py,p.w-cr*2,2);

    ctx.globalAlpha=1;
  }

  // Ball
  if(ball){
    const bx=ball.x;
    const by=ball.y+camY;
    const bcol=ball.color===0?CYAN:PINK;
    const bh=ball.color===0?CYAN_H:PINK_H;

    // Glow
    ctx.shadowColor=bcol;
    ctx.shadowBlur=18;
    ctx.fillStyle=bcol;
    ctx.beginPath();
    ctx.arc(bx,by,ball.r,0,Math.PI*2);
    ctx.fill();
    ctx.shadowBlur=0;

    // Inner core
    ctx.fillStyle='rgba(255,255,255,0.55)';
    ctx.beginPath();
    ctx.arc(bx,by,ball.r*0.42,0,Math.PI*2);
    ctx.fill();

    // Shield ring
    if(hasShield){
      const sAlpha=0.4+0.25*Math.sin((frameCount||0)*0.12);
      ctx.strokeStyle=`rgba(255,255,255,${sAlpha})`;
      ctx.lineWidth=2;
      ctx.beginPath();
      ctx.arc(bx,by,ball.r+6,0,Math.PI*2);
      ctx.stroke();
    }
  }

  // Particles
  for(const p of particles){
    const alpha=Math.max(0,p.life/p.maxLife);
    ctx.globalAlpha=alpha;
    if(p.ring){
      ctx.strokeStyle=p.color;
      ctx.lineWidth=2.5*alpha;
      ctx.beginPath();
      ctx.arc(p.x,p.y+camY,p.ringR,0,Math.PI*2);
      ctx.stroke();
    } else {
      ctx.fillStyle=p.color;
      ctx.beginPath();
      ctx.arc(p.x,p.y+camY,p.size*alpha,0,Math.PI*2);
      ctx.fill();
    }
  }
  ctx.globalAlpha=1;

  // HUD
  if(state==='playing'){
    // Score
    ctx.fillStyle='#fff';
    ctx.font='bold 24px "Segoe UI",system-ui,sans-serif';
    ctx.textAlign='left';
    ctx.fillText(String(score),18,38);

    // Combo + shield (top-right)
    ctx.textAlign='right';
    if(combo>1){
      ctx.fillStyle='#ffdd44';
      ctx.font='bold 18px "Segoe UI",system-ui,sans-serif';
      ctx.fillText('x'+combo,W-16,34);
    }
    // Shield bar
    const barW=52,barH=5,barX=W-16-barW,barY=combo>1?44:38;
    ctx.fillStyle='rgba(255,255,255,0.12)';
    ctx.fillRect(barX,barY,barW,barH);
    const fill=hasShield?1:shieldCharge/SHIELD_MAX;
    ctx.fillStyle=hasShield?'#ffdd44':'rgba(255,255,255,0.35)';
    ctx.fillRect(barX,barY,barW*fill,barH);
    if(hasShield){
      ctx.fillStyle='#ffdd44';
      ctx.font='9px "Segoe UI",system-ui,sans-serif';
      ctx.fillText('SHIELD',W-16,barY+15);
    }
    ctx.textAlign='left';
  }

  ctx.restore();
}

/* ══════════ GAME LOOP ══════════ */
let lastTime=0;
function loop(time){
  requestAnimationFrame(loop);
  const rawDt=(time-lastTime)/16.67;
  const dt=Math.min(rawDt||1,3);
  lastTime=time;

  // Update non-playing state particles/shake
  if(state==='gameover'){
    goFadeIn=Math.min((goFadeIn||0)+rawDt*0.03,1);
    if(shakeTimer>0){
      shakeTimer-=1;
      const intensity=shakeMag*(shakeTimer/18);
      shakeX=(Math.random()-0.5)*intensity*2;
      shakeY=(Math.random()-0.5)*intensity*2;
    } else {shakeX=0;shakeY=0;shakeMag=0}
    for(let i=particles.length-1;i>=0;i--){
      const p=particles[i];
      p.x+=p.vx;p.y+=p.vy;p.vy+=0.12;p.life-=1;
      if(p.ring)p.ringR+=2.2;
      if(p.life<=0)particles.splice(i,1);
    }
  }

  update(dt);
  draw();
}

// Show start screen
overlay.classList.remove('hidden');
// Idle state init for drawing
ball={x:W/2,y:H*0.6,vx:0,vy:0,color:0,r:BALL_R};
camera=0;platforms=[];particles=[];
shakeX=0;shakeY=0;shakeMag=0;shakeTimer=0;
slowMoTimer=0;slowMoFactor=1;bgHue=195;frameCount=0;goFadeIn=0;

requestAnimationFrame(loop);

})();
</script>
</body>
</html>
