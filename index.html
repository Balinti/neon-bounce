<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Neon Bounce - Free HTML5 Game</title>
<meta name="description" content="Play Neon Bounce - Tap to bounce a glowing ball between neon platforms. Miss a platform and fall into the void. Platforms get narrower as score increases.">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#0a0a1a">
<meta property="og:type" content="website">
<meta property="og:title" content="Neon Bounce - Free HTML5 Game">
<meta property="og:description" content="Play Neon Bounce - Tap to bounce a glowing ball between neon platforms. Miss a platform and fall into the void. Platforms get narrower as score increases.">
<meta property="og:url" content="https://balinti.github.io/neon-bounce/">
<meta property="og:image" content="https://balinti.github.io/neon-bounce/og-image.png">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4099346100621490" crossorigin="anonymous"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow:hidden;background:#06060f;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;color:#fff;touch-action:none;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}
#wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;min-height:100vh;min-height:100dvh}
#header{text-align:center;padding:8px 4px 4px;max-width:420px;width:100%}
#header h1{font-size:1.1rem;letter-spacing:2px;background:linear-gradient(90deg,#0ff,#f0f,#ff0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-transform:uppercase;margin-bottom:2px}
#header p{font-size:.65rem;color:#668;line-height:1.3}
#game-container{position:relative;width:100%;max-width:420px;flex:1;max-height:750px;overflow:hidden;border-radius:8px;border:1px solid #1a1a3a}
canvas{display:block;width:100%;height:100%;cursor:pointer}
#footer{text-align:center;padding:4px;font-size:.6rem;color:#445;max-width:420px;width:100%}
#footer span{color:#0ff}
</style>
</head>
<body>
<div id="wrap">
<div id="header">
<h1>Neon Bounce</h1>
<p>Tap or press Space to switch lanes. Land on platforms to score. Red danger platforms give 2x points!</p>
</div>
<div id="game-container">
<canvas id="c"></canvas>
</div>
<div id="footer">Best: <span id="best-display">0</span></div>
</div>
<script>
'use strict';
(()=>{

const LS_KEY='neonBounce_best';
const canvas=document.getElementById('c');
const ctx=canvas.getContext('2d');
const container=document.getElementById('game-container');
const bestEl=document.getElementById('best-display');

let W,H,dpr;

function resize(){
  const r=container.getBoundingClientRect();
  dpr=Math.min(window.devicePixelRatio||1,2.5);
  W=r.width;H=r.height;
  canvas.width=W*dpr;canvas.height=H*dpr;
  canvas.style.width=W+'px';canvas.style.height=H+'px';
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener('resize',resize);
resize();

/* ── Constants ── */
const BALL_R=11;
const PLAT_H=10;
const PLAT_R=5;
const GRAVITY=0.42;
const JUMP_VEL=-10.2;
const MAGNET=16;
const GATE_RX=28;
const GATE_RY=7;
const LANE_X_L=0.25;
const LANE_X_R=0.75;
const SCROLL_BASE=2.5;
const PLAT_SPACING_BASE=100;
const PLAT_SPACING_VAR=35;

/* ── State ── */
let state='start';
let score=0,combo=0,multiplier=1,bestScore=0;
let ball,platforms,gates,particles;
let worldSpeed,scrollAmt,gridOff,hue;
let shakeT=0,shakeM=0;
let slowT=0,slowF=1;
let lastT=0,dt=0;
let nextPY=0;

try{bestScore=parseInt(localStorage.getItem(LS_KEY))||0;}catch(e){}
bestEl.textContent=bestScore;

const laneX=l=>l===0?W*LANE_X_L:W*LANE_X_R;
const clamp=(v,a,b)=>v<a?a:v>b?b:v;
const rand=(a,b)=>a+Math.random()*(b-a);

/* ── Init ── */
function initGame(){
  score=0;combo=0;multiplier=1;
  worldSpeed=SCROLL_BASE;scrollAmt=0;gridOff=0;hue=180;
  shakeT=0;shakeM=0;slowT=0;slowF=1;
  particles=[];platforms=[];gates=[];
  nextPY=0;

  ball={x:laneX(0),y:H*0.72,vy:JUMP_VEL,lane:0,trail:[]};

  // Starting platform
  platforms.push(mkPlat(laneX(0),H*0.76,0,'safe',80));
  nextPY=H*0.76;
  genPlats(18);
}

/* ── Platform factory ── */
function mkPlat(x,y,lane,type,w,moving,blink){
  return{
    x,y,w:w||70,lane,type:type||'safe',
    moving:!!moving,blink:!!blink,
    moveAmp:15+Math.random()*22,
    moveSpd:0.7+Math.random()*1.4,
    movePh:Math.random()*Math.PI*2,
    blinkPh:Math.random()*Math.PI*2,
    blinkRate:2+Math.random()*3,
    baseX:x,visible:true,used:false
  };
}

/* ── Generation ── */
function genPlats(n){
  const band=score<10?0:score<25?1:score<50?2:score<100?3:4;
  for(let i=0;i<n;i++){
    nextPY-=PLAT_SPACING_BASE+rand(0,PLAT_SPACING_VAR)-(band>2?band*3:0);
    const lane=Math.random()<0.5?0:1;
    let type='safe',w=70+rand(0,20),moving=false,blink=false;

    if(band===0){w=72+rand(0,18);}
    else if(band===1){
      if(Math.random()<0.28){type='danger';w=50+rand(0,14);}
      else w=65+rand(0,16);
    }else if(band===2){
      const r=Math.random();
      if(r<0.28){type='danger';w=46+rand(0,14);moving=Math.random()<0.45;}
      else if(r<0.42){type='danger';w=50;moving=true;}
      else{w=56+rand(0,16);moving=Math.random()<0.15;}
    }else if(band===3){
      const r=Math.random();
      if(r<0.32){type='danger';w=40+rand(0,16);moving=Math.random()<0.6;blink=Math.random()<0.28;}
      else if(r<0.5){type='danger';w=44;moving=true;blink=Math.random()<0.18;}
      else{w=50+rand(0,16);moving=Math.random()<0.22;}
    }else{
      const r=Math.random();
      if(r<0.36){type='danger';w=36+rand(0,16);moving=Math.random()<0.7;blink=Math.random()<0.38;}
      else if(r<0.55){type='danger';w=40;moving=true;blink=Math.random()<0.28;}
      else{w=46+rand(0,16);moving=Math.random()<0.28;blink=Math.random()<0.1;}
    }

    platforms.push(mkPlat(laneX(lane),nextPY,lane,type,w,moving,blink));

    // Gates after score 25
    if(score+i>=25&&Math.random()<0.18){
      gates.push({y:nextPY+40+rand(0,25),x:W*0.5,w:W*0.28,h:GATE_RY,hue:rand(0,360),collected:false});
    }
  }
}

/* ── Particles ── */
function emit(x,y,n,col,spread,spd){
  for(let i=0;i<n&&particles.length<200;i++){
    const a=rand(0,Math.PI*2);
    particles.push({
      x:x+rand(-spread,spread),y:y+rand(-spread*0.5,spread*0.5),
      vx:Math.cos(a)*rand(0.5,spd),vy:Math.sin(a)*rand(0.5,spd)-1,
      life:rand(0.35,0.7),ml:0.7,r:rand(1.5,4),col
    });
  }
}

function shake(m,t){shakeM=m;shakeT=t;}

/* ── Switch lane ── */
function switchLane(){
  if(state!=='playing')return;
  ball.lane=ball.lane===0?1:0;
  ball.x=laneX(ball.lane);
  emit(ball.x,ball.y,7,`hsl(${hue},100%,70%)`,12,3);
}

/* ── Input ── */
function doInput(e){
  if(e)e.preventDefault();
  if(state==='start'){state='playing';initGame();}
  else if(state==='playing'){switchLane();}
  else if(state==='gameover'){state='playing';initGame();}
}
canvas.addEventListener('pointerdown',doInput,{passive:false});
document.addEventListener('keydown',e=>{
  if(e.code==='Space'||e.code==='Enter'||e.code==='ArrowLeft'||e.code==='ArrowRight'){
    e.preventDefault();doInput();
  }
});

/* ── Update ── */
function update(now){
  if(!lastT){lastT=now;requestAnimationFrame(update);return;}
  dt=Math.min((now-lastT)/1000,0.045);
  lastT=now;

  if(slowT>0){slowT-=dt;slowF=0.3;}else slowF=1;
  const adt=dt*slowF;
  hue=(hue+28*dt)%360;

  if(state==='playing'){
    // Speed curve
    worldSpeed=Math.min(SCROLL_BASE+score*0.022,7.5);
    const scroll=worldSpeed*60*adt;
    scrollAmt+=scroll;
    gridOff=(gridOff+scroll)%42;

    // Ball physics
    ball.vy+=GRAVITY*60*adt;
    ball.y+=ball.vy*60*adt;

    // Move platforms & gates down (world scrolls up = things move down)
    for(const p of platforms){
      p.y+=scroll;
      if(p.moving){
        p.movePh+=p.moveSpd*adt;
        p.x=p.baseX+Math.sin(p.movePh)*p.moveAmp;
      }
      if(p.blink){
        p.blinkPh+=p.blinkRate*adt;
        p.visible=Math.sin(p.blinkPh*Math.PI)>-0.3;
      }
    }
    for(const g of gates)g.y+=scroll;

    // Trail
    if(combo>=3)ball.trail.push({x:ball.x,y:ball.y,l:0.25});
    ball.trail=ball.trail.filter(t=>{t.l-=dt;return t.l>0;});

    // Platform collision
    for(const p of platforms){
      if(p.used||!p.visible||p.lane!==ball.lane)continue;
      const dx=Math.abs(ball.x-p.x);
      const hw=p.w/2;
      if(dx>hw+MAGNET)continue;
      if(ball.vy<=0)continue;
      const top=p.y-PLAT_H/2;
      if(ball.y+BALL_R>=top-MAGNET&&ball.y+BALL_R<=top+PLAT_H+8){
        // Land!
        ball.y=top-BALL_R;
        ball.vy=JUMP_VEL*(1+Math.min(score*0.0018,0.28));
        p.used=true;

        const perfect=dx<9;
        const isDanger=p.type==='danger'||p.moving||p.blink;
        const pts=isDanger?2:1;

        combo+=perfect?(isDanger?3:2):(isDanger?2:1);
        multiplier=Math.min(1+Math.floor(combo/5),6);
        score+=pts*multiplier+(perfect?multiplier:0);

        emit(ball.x,p.y,perfect?18:9,
          isDanger?'hsl(350,100%,60%)':`hsl(${hue},100%,70%)`,
          perfect?16:8,perfect?5:3);

        if(perfect){shake(3,0.08);}

        // Near-miss slow-mo
        if(dx>hw-8&&dx<=hw+MAGNET){
          slowT=0.06;
          combo=Math.max(0,combo-1);
        }
        break;
      }
    }

    // Gate collision
    for(const g of gates){
      if(g.collected)continue;
      if(Math.abs(ball.y-g.y)<g.h+BALL_R&&Math.abs(ball.x-g.x)<g.w/2+BALL_R){
        g.collected=true;
        combo+=5;
        multiplier=Math.min(1+Math.floor(combo/5),6);
        score+=10*multiplier;
        emit(g.x,g.y,16,`hsl(${g.hue},100%,70%)`,20,5);
        shake(2.5,0.06);
      }
    }

    // Cleanup & generate
    platforms=platforms.filter(p=>p.y<H+80);
    gates=gates.filter(g=>g.y<H+80);
    const topP=platforms.reduce((m,p)=>p.y<m?p.y:m,Infinity);
    if(topP>-180)genPlats(8);

    // Death
    if(ball.y>H+60){
      state='gameover';
      emit(ball.x,Math.min(ball.y,H),32,'hsl(0,100%,60%)',20,6);
      shake(10,0.4);
      if(score>bestScore){
        bestScore=score;
        try{localStorage.setItem(LS_KEY,bestScore);}catch(e){}
        bestEl.textContent=bestScore;
      }
    }
  }

  // Particles
  particles=particles.filter(p=>{
    p.x+=p.vx*60*dt;p.y+=p.vy*60*dt;
    p.vy+=0.08*60*dt;p.life-=dt;
    return p.life>0;
  });

  draw();
  requestAnimationFrame(update);
}

/* ── Draw ── */
function draw(){
  ctx.save();
  if(shakeT>0){
    shakeT-=dt;
    ctx.translate((Math.random()-0.5)*shakeM*2,(Math.random()-0.5)*shakeM*2);
    shakeM*=0.92;
  }

  // BG
  const bg=ctx.createLinearGradient(0,0,0,H);
  bg.addColorStop(0,'#0a0a1a');bg.addColorStop(0.5,'#0d0d2b');bg.addColorStop(1,'#06061a');
  ctx.fillStyle=bg;ctx.fillRect(-12,-12,W+24,H+24);

  // Grid
  ctx.strokeStyle='rgba(40,40,80,0.13)';ctx.lineWidth=0.5;
  const gs=42;
  for(let y=(gridOff%gs)-gs;y<H+gs;y+=gs){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(W,y);ctx.stroke();}
  for(let x=0;x<W;x+=gs){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,H);ctx.stroke();}

  // Lane guides
  ctx.strokeStyle=`hsla(${hue},50%,30%,0.12)`;ctx.lineWidth=1;
  ctx.setLineDash([5,10]);
  ctx.beginPath();ctx.moveTo(W*LANE_X_L,0);ctx.lineTo(W*LANE_X_L,H);ctx.stroke();
  ctx.beginPath();ctx.moveTo(W*LANE_X_R,0);ctx.lineTo(W*LANE_X_R,H);ctx.stroke();
  ctx.setLineDash([]);

  if(state==='start')drawStart();
  else if(state==='playing'||state==='gameover')drawGame();

  // Particles
  for(const p of particles){
    const a=clamp(p.life/p.ml,0,1);
    ctx.globalAlpha=a;ctx.fillStyle=p.col;
    ctx.shadowColor=p.col;ctx.shadowBlur=6;
    ctx.beginPath();ctx.arc(p.x,p.y,p.r*a,0,Math.PI*2);ctx.fill();
  }
  ctx.globalAlpha=1;ctx.shadowBlur=0;

  if(state==='playing')drawHUD();
  else if(state==='gameover')drawGameOver();

  ctx.restore();
}

function drawStart(){
  ctx.textAlign='center';ctx.textBaseline='middle';

  ctx.shadowColor=`hsl(${hue},100%,60%)`;ctx.shadowBlur=30;
  ctx.fillStyle=`hsl(${hue},100%,80%)`;
  ctx.font='bold 34px "Segoe UI",system-ui,sans-serif';
  ctx.fillText('NEON BOUNCE',W/2,H*0.32);

  ctx.shadowBlur=12;ctx.font='17px "Segoe UI",system-ui,sans-serif';
  ctx.fillStyle=`hsl(${(hue+60)%360},80%,70%)`;
  ctx.fillText('Switch Lanes',W/2,H*0.40);
  ctx.shadowBlur=0;

  ctx.font='13px "Segoe UI",system-ui,sans-serif';ctx.fillStyle='#889';
  ctx.fillText('Tap or press Space to switch lanes',W/2,H*0.50);
  ctx.fillText('Land on platforms to keep bouncing',W/2,H*0.54);

  const p=0.5+Math.sin(Date.now()*0.004)*0.5;
  ctx.globalAlpha=p;ctx.font='bold 20px "Segoe UI",system-ui,sans-serif';
  ctx.fillStyle='#fff';ctx.shadowColor='#0ff';ctx.shadowBlur=14;
  ctx.fillText('TAP TO START',W/2,H*0.66);
  ctx.globalAlpha=1;ctx.shadowBlur=0;

  if(bestScore>0){
    ctx.font='13px "Segoe UI",system-ui,sans-serif';ctx.fillStyle='#668';
    ctx.fillText('Best: '+bestScore,W/2,H*0.75);
  }
}

function drawGame(){
  // Gates
  for(const g of gates){
    if(g.collected||g.y<-20||g.y>H+20)continue;
    const ga=0.55+Math.sin(Date.now()*0.005)*0.3;
    ctx.globalAlpha=ga;ctx.strokeStyle=`hsl(${g.hue},100%,65%)`;
    ctx.shadowColor=`hsl(${g.hue},100%,55%)`;ctx.shadowBlur=12;ctx.lineWidth=2.5;
    ctx.beginPath();ctx.ellipse(g.x,g.y,g.w/2,g.h,0,0,Math.PI*2);ctx.stroke();
    ctx.globalAlpha=1;ctx.shadowBlur=0;
  }

  // Platforms
  for(const p of platforms){
    if(p.y<-30||p.y>H+30||!p.visible||p.used)continue;
    const hw=p.w/2;
    const isDanger=p.type==='danger';

    if(isDanger){
      const fl=0.75+Math.sin(Date.now()*0.012+p.movePh)*0.25;
      ctx.fillStyle=`hsla(350,85%,${48*fl}%,0.92)`;
      ctx.shadowColor='hsl(350,100%,50%)';ctx.shadowBlur=14*fl;
    }else{
      ctx.fillStyle=`hsl(${hue},65%,52%)`;
      ctx.shadowColor=`hsl(${hue},100%,48%)`;ctx.shadowBlur=10;
    }

    // Rounded rect platform
    const px=p.x-hw,py=p.y-PLAT_H/2,pw=p.w,ph=PLAT_H;
    ctx.beginPath();
    ctx.moveTo(px+PLAT_R,py);
    ctx.lineTo(px+pw-PLAT_R,py);
    ctx.arcTo(px+pw,py,px+pw,py+PLAT_R,PLAT_R);
    ctx.lineTo(px+pw,py+ph-PLAT_R);
    ctx.arcTo(px+pw,py+ph,px+pw-PLAT_R,py+ph,PLAT_R);
    ctx.lineTo(px+PLAT_R,py+ph);
    ctx.arcTo(px,py+ph,px,py+ph-PLAT_R,PLAT_R);
    ctx.lineTo(px,py+PLAT_R);
    ctx.arcTo(px,py,px+PLAT_R,py,PLAT_R);
    ctx.closePath();
    ctx.fill();

    // Moving dot indicator
    if(p.moving){
      ctx.fillStyle='rgba(255,255,255,0.35)';
      ctx.beginPath();ctx.arc(p.x,p.y,2.5,0,Math.PI*2);ctx.fill();
    }
    // Blink indicator
    if(p.blink){
      ctx.strokeStyle='rgba(255,200,50,0.4)';ctx.lineWidth=1;
      ctx.beginPath();ctx.arc(p.x,p.y,hw+4,0,Math.PI*2);ctx.stroke();
    }
    ctx.shadowBlur=0;
  }

  // Ball trail
  for(const t of ball.trail){
    const a=(t.l/0.25)*0.35;
    ctx.globalAlpha=a;ctx.fillStyle=`hsl(${hue},100%,68%)`;
    ctx.beginPath();ctx.arc(t.x,t.y,BALL_R*(t.l/0.25)*0.7,0,Math.PI*2);ctx.fill();
  }
  ctx.globalAlpha=1;

  // Ball glow
  const cg=Math.min(combo*1.8,22);
  const gr=ctx.createRadialGradient(ball.x,ball.y,BALL_R*0.25,ball.x,ball.y,BALL_R+cg);
  gr.addColorStop(0,`hsla(${hue},100%,92%,1)`);
  gr.addColorStop(0.4,`hsla(${hue},100%,60%,0.45)`);
  gr.addColorStop(1,`hsla(${hue},100%,50%,0)`);
  ctx.fillStyle=gr;
  ctx.beginPath();ctx.arc(ball.x,ball.y,BALL_R+cg,0,Math.PI*2);ctx.fill();

  // Ball core
  ctx.fillStyle=`hsl(${hue},100%,84%)`;
  ctx.shadowColor=`hsl(${hue},100%,60%)`;ctx.shadowBlur=18+cg;
  ctx.beginPath();ctx.arc(ball.x,ball.y,BALL_R,0,Math.PI*2);ctx.fill();

  // Inner highlight
  ctx.shadowBlur=0;
  ctx.fillStyle='rgba(255,255,255,0.65)';
  ctx.beginPath();ctx.arc(ball.x-3,ball.y-3,BALL_R*0.32,0,Math.PI*2);ctx.fill();
}

function drawHUD(){
  ctx.textAlign='left';ctx.textBaseline='top';
  ctx.font='bold 22px "Segoe UI",system-ui,sans-serif';
  ctx.fillStyle='#fff';ctx.shadowColor='rgba(0,0,0,0.5)';ctx.shadowBlur=3;
  ctx.fillText(''+score,14,14);

  if(multiplier>1){
    ctx.font='bold 14px "Segoe UI",system-ui,sans-serif';
    ctx.fillStyle=`hsl(${hue},100%,70%)`;
    ctx.fillText('x'+multiplier,14,40);
  }
  if(combo>=3){
    ctx.textAlign='right';ctx.font='12px "Segoe UI",system-ui,sans-serif';
    ctx.fillStyle=`hsl(${(hue+90)%360},75%,65%)`;
    ctx.fillText('Combo '+combo,W-14,16);
  }
  ctx.shadowBlur=0;
}

function drawGameOver(){
  ctx.fillStyle='rgba(5,5,20,0.72)';ctx.fillRect(0,0,W,H);
  ctx.textAlign='center';ctx.textBaseline='middle';

  ctx.shadowColor='hsl(350,100%,50%)';ctx.shadowBlur=18;
  ctx.fillStyle='#f44';ctx.font='bold 30px "Segoe UI",system-ui,sans-serif';
  ctx.fillText('GAME OVER',W/2,H*0.30);
  ctx.shadowBlur=0;

  ctx.fillStyle='#889';ctx.font='14px "Segoe UI",system-ui,sans-serif';
  ctx.fillText('SCORE',W/2,H*0.37);

  ctx.fillStyle='#fff';ctx.font='bold 42px "Segoe UI",system-ui,sans-serif';
  ctx.fillText(''+score,W/2,H*0.44);

  ctx.fillStyle='#0ff';ctx.font='16px "Segoe UI",system-ui,sans-serif';
  ctx.fillText('Best: '+bestScore,W/2,H*0.52);

  if(score>0&&score>=bestScore){
    ctx.fillStyle='#ff0';ctx.font='bold 14px "Segoe UI",system-ui,sans-serif';
    ctx.fillText('NEW BEST!',W/2,H*0.57);
  }

  const p=0.45+Math.sin(Date.now()*0.004)*0.55;
  ctx.globalAlpha=p;ctx.fillStyle='#fff';
  ctx.shadowColor='#0ff';ctx.shadowBlur=10;
  ctx.font='bold 18px "Segoe UI",system-ui,sans-serif';
  ctx.fillText('TAP TO RETRY',W/2,H*0.68);
  ctx.globalAlpha=1;ctx.shadowBlur=0;
}

/* ── Start ── */
requestAnimationFrame(update);

})();
</script>
</body>
</html>
